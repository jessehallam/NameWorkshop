(function(){var n;n=angular.module("NameWorkshop",["Panels","TreeView"]);n.service("parser",function(){this.lexer=window.Parser_v3.Lexer;this.parser=window.Parser_v3.Parser});n.factory("generator",function(n,t){var i;return i=function(n,t){var i,r,u,f,e,o,s;for(f='\0',r=0,e=[],u=o=0,s=n.length;o<s;u=++o)i=n[u],i.toLowerCase()!==f.toLowerCase()&&(f=i,r=0),r++,r<=t&&e.push(i);return e.join("")},function(r,u){var o,s,f,e;if(r&&u.ignoreWhitespace&&(r=r.replace(/\s|\r|\n/,function(){return""})),o=new t.lexer(r),e=o.readTokens(),n.debug("Tokens:",e),s=new t.parser(e),f=s.program(),!f)throw new Error("parser error");return n.debug("Program:",f),function(){var n;return n=f.eval(),n&&u.capitalize&&(n=n[0].toUpperCase()+n.substr(1)),n&&u.maxRepeatingChars&&(n=i(n,u.maxRepeatingChars)),n}}});n.controller("Main",function(n,t,i,r){return i.user={authenticated:!0,name:"User Name"},r.signin=function(){return i.user={authenticated:!0,name:"User Name"}},r.model={editor:{capitalize:!0,ignoreWhitespace:!1,maxRepeatingChars:2,text:""},fileSystem:{baseDir:{folders:[{name:"Project 1",folders:[{name:"Project 2",files:[{name:"File 2.1"}]}],files:[{name:"File 1.1"}]}],files:[{name:"File 0.1"}]}},results:{items:[],savedItems:[]}},r.$watch("model.editor.maxRepeatingChars",function(n){return n>999&&(r.model.editor.maxRepeatingChars=999),n<0||typeof n=="undefined"?r.model.editor.maxRepeatingChars=0:void 0}),r.execute=function(){var u,f,t,i;for(u=n(r.model.editor.text,{capitalize:r.model.editor.capitalize,ignoreWhitespace:r.model.editor.ignoreWhitespace,maxRepeatingChars:r.model.editor.maxRepeatingChars}),r.model.results.items=[],i=[],f=t=0;t<=100;f=++t)i.push(r.model.results.items.push(u()));return i},r.removeSavedItem=function(n){return r.model.results.savedItems.splice(n,1)},r.saveItem=function(n){return r.model.results.savedItems.push(n)}});n.directive("focusWhen",function(n){return{restrict:"A",link:function(t,i,r){var u;return u=function(){return $(i).focus()},t.$watch(r.focusWhen,function(t){if(t)return n(u,50)})}}});n.directive("selectAllWhen",function(n){return{restrict:"A",link:function(t,i,r){var u;return u=function(){return i[0].setSelectionRange(0,i[0].value.length)},t.$watch(r.selectAllWhen,function(t){if(t)return n(u,50)})}}});n.directive("whenFocusLost",function(n){return{restrict:"A",link:function(t,i,r){var u=n(r.whenFocusLost);return $(i).on("blur",function(){return u(t),t.$apply()})}}})}).call(this);